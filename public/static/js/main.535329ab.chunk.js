(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(15)},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),s=a.n(o),i=a(1),l=a(2),c=a(4),m=a(3),u=a(5),h=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={count:0},a.changeCount=function(e,t){fetch("https://morning-scrubland-16783.herokuapp.com/api/edit/"+e,{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({do:t})}).then(function(e){return e.json()}).then(function(e){a.setState({count:e})})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({count:this.props.shares})}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.id;return r.a.createElement("div",{className:"member p-3"},r.a.createElement("h3",null,"Name: ",a),r.a.createElement("h5",null,"Shares: ",this.state.count,r.a.createElement("button",{className:"btn btn-primary ml-4",onClick:function(){e.changeCount(n,"add")}},r.a.createElement("i",{className:"material-icons pt-1"},"add")),r.a.createElement("button",{className:"btn btn-primary ml-2",onClick:function(){e.changeCount(n,"min")}},r.a.createElement("i",{className:"material-icons pt-1"},"remove"))))}}]),t}(n.Component),p=function(e){var t=e.members,a=e.handleDelete,n=t.map(function(e){return r.a.createElement("div",{className:"member"},r.a.createElement(h,{name:e.name,id:e.id,shares:e.shares}),r.a.createElement("button",{onClick:function(){return a(e.id)},className:"btn btn-danger"},r.a.createElement("i",{className:"material-icons pt-2 mr-2"},"delete"),r.a.createElement("span",null,"Delete Member")),r.a.createElement("hr",{className:"my-5"}))});return r.a.createElement("div",{className:"members-list mt-5"},n)},d=a(6),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleInputChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.signInChange,a=function(){var a;a=e.state.email,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase())&&e.state.password.length>=6?t({loginEmail:e.state.email,loginPassword:e.state.password}):t({})};return r.a.createElement("div",null,r.a.createElement("h2",{className:"text-primary text-center bg-light p-1"},"PLEASE SIGN IN"),r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",name:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"password",placeholder:"Password",onChange:this.handleInputChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){return a()}},"Sign In")))}}]),t}(r.a.Component),b=a(9),f=a.n(b),E=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:f.a,alt:"",width:"300px"}))},y={email:"",password:"",name:"",committee:null,location:""},N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=y,a.handleInputChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-5 text-primary text-center bg-light mb-5"},r.a.createElement("h3",{className:"p-1 text-primary text-center bg-light mb-5"},"Create a Member"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"name",className:"form-control",id:"name",placeholder:"Enter Full Name",onChange:this.handleInputChange}),r.a.createElement("input",{type:"email",name:"email",className:"form-control",id:"email",required:!0,"aria-describedby":"emailHelp",placeholder:"Enter email",onChange:this.handleInputChange}),r.a.createElement("input",{type:"text",name:"location",className:"form-control",id:"location",placeholder:"Enter Location",onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group "},r.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"password",placeholder:"Password",onChange:this.handleInputChange}),r.a.createElement("input",{type:"text",name:"committee",className:"form-control",id:"committee",placeholder:"Enter Role in Committee",onChange:this.handleInputChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){var t;t=e.state.email,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?e.state.password.length>=6?e.props.handleRegister({registerName:e.state.name,registerLocation:e.state.location,registerCommittee:e.state.committee,registerEmail:e.state.email,registerPassword:e.state.password}):e.props.handleRegister({registerName:e.state.name,registerLocation:e.state.location,registerEmail:e.state.email}):e.props.handleRegister({})}},"Create Member"))}}]),t}(r.a.Component),C={members:[],isSignedIn:!0,user:{}},v=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).signInChange=function(t){var a=t.loginEmail,n=t.loginPassword;fetch("https://morning-scrubland-16783.herokuapp.com/api/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:n})}).then(function(e){return e.json()}).then(function(t){console.log(t),t.committee?e.setState({user:t,isSignedIn:!0}):document.write(t)}).catch(console.log)},e.handleLogOut=function(){e.setState({isSignedIn:!1})},e.addMember=function(e){e.registerEmail&&e.registerName?fetch("https://morning-scrubland-16783.herokuapp.com/api/create",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.registerEmail,password:e.registerPassword,location:e.registerLocation,committee:e.registerCommittee,name:e.registerName})}).then(function(e){return e.json()}).then(function(e){e.name&&e.email?window.location.reload():alert(e)}).catch(console.log):console.log("Errroooooorrrrrr")},e.handleDelete=function(t){var a=e.state.members.filter(function(e){return e.id===t})[0];fetch("https://morning-scrubland-16783.herokuapp.com/api/member/"+t,{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email})}).then(function(e){return e.json()}).then(function(t){alert(t),e.componentDidMount()}).catch(console.log)},e.dummyUser=function(){var t=Math.random();fetch("https://morning-scrubland-16783.herokuapp.com/api/create",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"elite"+t+"@gmail.com",password:"elite@"+t,location:"ETE"+t,committee:"rand"+t,name:"fake"+t,shares:1e15})}).then(function(e){return e.json()}).then(function(a){console.log(t),e.componentDidMount()}).catch(function(e){return alert(e)})},e.state=C,e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://morning-scrubland-16783.herokuapp.com/api/").then(function(e){return e.json()}).then(function(t){e.setState({members:t})}).catch(console.log)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container bg-white"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 text-center"},r.a.createElement(E,null))),r.a.createElement("div",{className:"row"},this.state.isSignedIn?r.a.createElement("div",{className:"col-sm-12 pb-5"},r.a.createElement("h1",{className:"py-2 text-primary text-center bg-light"},"Members List"),r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleLogOut},"Log Out"),r.a.createElement(p,{handleDelete:this.handleDelete,members:this.state.members}),r.a.createElement(N,{handleRegister:this.addMember})):r.a.createElement("div",{className:"col-sm-12 pb-5"},r.a.createElement("button",{className:"btn btn-warning d-none",onClick:this.dummyUser},"Dummy User"),r.a.createElement(g,{signInChange:this.signInChange}))))}}]),t}(n.Component);s.a.render(r.a.createElement(v,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a.p+"static/media/icon.5588d35c.png"}},[[10,1,2]]]);
//# sourceMappingURL=main.535329ab.chunk.js.map